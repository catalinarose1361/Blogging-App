(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,a){e.exports=a(249)},240:function(e,t,a){},244:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=a(259),i=a(260),s=a(261);function u(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function m(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function E(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}var d=a(37),f=a(146),p=a(78),b=a(47),v="UPDATE_POSTS",h="REMOVE_POST",g="ADD_POST",O="LOADING",y=Object(n.createContext)(),j=y.Provider,P=function(e,t){switch(t.type){case"SET_CURRENT_POST":return Object(b.a)({},e,{currentPost:t.post,loading:!1});case v:return Object(b.a)({},e,{posts:Object(p.a)(t.posts),loading:!1});case g:return Object(b.a)({},e,{posts:[t.post].concat(Object(p.a)(e.posts)),loading:!1});case h:return Object(b.a)({},e,{posts:e.posts.filter(function(e){return e._id!==t._id})});case"ADD_FAVORITE":return Object(b.a)({},e,{favorites:[t.post].concat(Object(p.a)(e.favorites)),loading:!1});case"UPDATE_FAVORITES":return Object(b.a)({},e,{favorites:Object(p.a)(e.favorites),loading:!1});case"REMOVE_FAVORITE":return Object(b.a)({},e,{favorites:e.favorites.filter(function(e){return e._id!==t._id})});case O:return Object(b.a)({},e,{loading:!0});default:return e}},T=function(e){e.value;var t=Object(f.a)(e,["value"]),a=Object(n.useReducer)(P,{posts:[],currentPost:{_id:0,title:"",body:"",author:""},favorites:[],loading:!1}),l=Object(d.a)(a,2),c=l[0],o=l[1];return r.a.createElement(j,Object.assign({value:[c,o]},t))},R=function(){return Object(n.useContext)(y)},_=a(77),N=a.n(_),A={getPosts:function(){return N.a.get("/api/posts")},getPost:function(e){return N.a.get("/api/posts/"+e)},deletePost:function(e){return N.a.delete("/api/posts/"+e)},savePost:function(e){return N.a.post("/api/posts",e)}},F=a(258),x=a(257),I=a(256),w=a(67),k=F.a.TextArea,V=x.a.Title;x.a.Paragraph,x.a.Text,x.a.Link;var C=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=(Object(n.useRef)(),R()),l=Object(d.a)(a,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null,r.a.createElement(V,{level:3},"Create New Post")),r.a.createElement(I.a,{onFinish:function(a){console.log("Received values of form:",a),A.savePost({title:a.titleRef,body:a.bodyRef,author:a.authorRef}).then(function(e){o({type:g,post:e.data})}).catch(function(e){return console.log(e)}),e.current.value="",t.current.value=""}},r.a.createElement(I.a.Item,{label:"Title",name:"titleRef",rules:[{required:!0}]},r.a.createElement(F.a,null)),r.a.createElement(I.a.Item,{label:"Author",name:"authorRef",rules:[{required:!0}]},r.a.createElement(F.a,null)),r.a.createElement(I.a.Item,{label:"Body",name:"bodyRef",rules:[{required:!0}]},r.a.createElement(k,{rows:10})),r.a.createElement(I.a.Item,null,r.a.createElement(w.a,{type:"primary",disabled:c.loading,htmlType:"submit"},"Submit"))))};a(240);var S=function(e){return r.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")},D=a(254),z=a(142),L=x.a.Title;var B=function(){var e=R(),t=Object(d.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)(function(){l({type:O}),A.getPosts().then(function(e){l({type:v,posts:e.data})}).catch(function(e){return console.log(e)})},[]),console.log(a.posts);var c=a.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null,r.a.createElement(L,{level:3},"All Posts")),r.a.createElement(D.b,{itemLayout:"horizontal",dataSource:c,renderItem:function(e){return r.a.createElement(D.b.Item,null,r.a.createElement(D.b.Item.Meta,{avatar:r.a.createElement(z.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:r.a.createElement("a",{href:"/posts/"+e._id},e.title," by ",e.author),description:e.body}),r.a.createElement(S,{onClick:function(){return t=e._id,void A.deletePost(t).then(function(){l({type:h,_id:t})}).catch(function(e){return console.log(e)});var t}}))}}))},M=function(){return r.a.createElement(u,{fluid:!0},r.a.createElement(m,null,r.a.createElement(E,{size:"md-6"},r.a.createElement(C,null)),r.a.createElement(E,{size:"md-6 sm-12"},r.a.createElement(B,null))))};var U=function(e){var t=e.children;return r.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron border border-success"},t)},q=a(255),Y=function(e){var t=R(),a=Object(d.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)(function(){A.getPost(e.match.params.id).then(function(e){return c({type:"SET_CURRENT_POST",post:e.data})}).catch(function(e){return console.log(e)})},[]);return r.a.createElement(r.a.Fragment,null,l.currentPost?r.a.createElement(u,{fluid:!0},r.a.createElement(m,null,r.a.createElement(E,{size:"md-12"},r.a.createElement(q.a,{className:"site-page-header",onBack:function(){return window.history.back()},title:l.currentPost.title,subTitle:l.currentPost.author,extra:-1!==l.favorites.indexOf(l.currentPost)?r.a.createElement("button",{className:"btn btn-danger",onClick:function(){c({type:"REMOVE_FAVORITE",_id:l.currentPost._id})}},"Remove from Favorites!"):r.a.createElement("button",{className:"btn",onClick:function(){c({type:"ADD_FAVORITE",post:l.currentPost})}},"\u2764\ufe0f Add to Favorites")}))),r.a.createElement(m,null,r.a.createElement(E,{size:"md-10 md-offset-1"},r.a.createElement("article",null,r.a.createElement("h1",null,"Content:"),r.a.createElement("p",null,l.currentPost.body))))):r.a.createElement("div",null,"loading..."))},G=function(){return r.a.createElement(u,{fluid:!0},r.a.createElement(m,null,r.a.createElement(E,{size:"md-12"},r.a.createElement(U,null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var H=function(){var e=R(),t=Object(d.a)(e,1)[0];return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(q.a,{className:"site-page-header",title:"BLOG",subTitle:"a content managment system"}),t.loading?r.a.createElement("a",{className:"navbar-brand ml-auto"},"Loading..."):r.a.createElement(r.a.Fragment,null),r.a.createElement(w.a,{key:"1",type:"primary"},r.a.createElement("a",{href:"/favorites"},"View Favorites")))};a(244);function J(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function X(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}var W=a(253),K=function(){var e=R(),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){l({type:O}),l({type:"UPDATE_FAVORITES"})},[]),r.a.createElement("div",{className:"container mb-5 mt-5"},r.a.createElement("h1",{className:"text-center"},"Here's All of Your Favorite Posts"),a.favorites.length?r.a.createElement(J,null,r.a.createElement("h3",{className:"mb-5 mt-5"},"Click on a post to view in detail"),a.favorites.map(function(e){return r.a.createElement(X,{key:e._id},r.a.createElement(W.a,{to:"/posts/"+e._id},r.a.createElement("strong",null,e.title," by ",e.author)),r.a.createElement(S,{onClick:function(){return t=e._id,void l({type:"REMOVE_FAVORITE",_id:t});var t}}))})):r.a.createElement("h3",null,"You haven't added any favorites yet!"),r.a.createElement("div",{className:"mt-5"},r.a.createElement(W.a,{to:"home"},"Back to home")))};var Q=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(T,null,r.a.createElement(H,null),r.a.createElement(i.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:M}),r.a.createElement(s.a,{exact:!0,path:"/home",component:M}),r.a.createElement(s.a,{exact:!0,path:"/favorites",component:K}),r.a.createElement(s.a,{exact:!0,path:"/posts/:id",component:Y}),r.a.createElement(s.a,{component:G})))))};a(248);c.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.f849bf87.chunk.js.map